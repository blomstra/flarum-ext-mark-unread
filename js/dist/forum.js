(()=>{var o={n:r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return o.d(e,{a:e}),e},d:(r,e)=>{for(var n in e)o.o(e,n)&&!o.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},o:(o,r)=>Object.prototype.hasOwnProperty.call(o,r),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},r={};(()=>{"use strict";o.r(r);const e=flarum.core.compat["forum/app"];var n=o.n(e);const a=flarum.core.compat["common/extend"],t=flarum.core.compat["common/Model"];var c=o.n(t);const u=flarum.core.compat["common/models/Discussion"];var s=o.n(u);const d=flarum.core.compat["forum/utils/DiscussionControls"];var i=o.n(d);const l=flarum.core.compat["forum/components/DiscussionPage"];var f=o.n(l);const p=flarum.core.compat["common/components/Button"];var b=o.n(p);n().initializers.add("blomstra/mark-unread",(function(){s().prototype.canMarkUnread=c().attribute("canMarkUnread"),(0,a.extend)(i(),"moderationControls",(function(o,r){r.canMarkUnread()&&!r.isUnread()&&o.add("blomstra-unread",m(b(),{icon:"fas fa-envelope",onclick:this.unreadAction.bind(r)},n().translator.trans("blomstra-mark-unread.forum.controls.mark-unread")),30)})),i().unreadAction=function(){this.save({unread:!0}).then((function(){n().current.matches(f())&&n().current.get("stream").update(),m.redraw()}))}}))})(),module.exports=r})();
//# sourceMappingURL=forum.js.map